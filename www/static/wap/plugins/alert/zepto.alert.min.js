(function(H,E,A){var I=H(E),G=H(document),C=1,F=false;var B=function(J){this.settings=H.extend({},B.defaults,J);this.init()};B.prototype={init:function(){this.create();if(this.settings.lock){this.lock()}if(!isNaN(this.settings.time)&&this.settings.time!=null){this.time()}},create:function(){var J=(this.settings.title==null)?"":'<div class="rDialog-header-'+this.settings.title+'"></div>';var K='<div class="rDialog-wrap">'+J+'<div class="rDialog-content">'+this.settings.content+'</div><div class="rDialog-footer"></div></div>';this.dialog=H("<div>").addClass("rDialog").css({zIndex:this.settings.zIndex+(C++)}).html(K).prependTo("body");if(H.isFunction(this.settings.ok)){this.ok()}if(H.isFunction(this.settings.cancel)){this.cancel()}this.size();this.position()},ok:function(){var J=this,K=this.dialog.find(".rDialog-footer");H("<a>",{href:"javascript:;",text:this.settings.okText}).on("click",function(){var L=J.settings.ok();if(L==A||L){J.close()}}).addClass("rDialog-ok").prependTo(K)},cancel:function(){var J=this,K=this.dialog.find(".rDialog-footer");H("<a>",{href:"javascript:;",text:this.settings.cancelText}).on("click",function(){var L=J.settings.cancel();if(L==A||L){J.close()}}).addClass("rDialog-cancel").appendTo(K)},size:function(){var K=this.dialog.find(".rDialog-content"),J=this.dialog.find(".rDialog-wrap");K.css({width:this.settings.width,height:this.settings.height})},position:function(){var J=this,M=I.width(),L=I.height(),K=0;this.dialog.css({left:(M-J.dialog.width())/2,top:(L-J.dialog.height())/2+K})},lock:function(){if(F){return}this.lock=H("<div>").css({zIndex:this.settings.zIndex}).addClass("rDialog-mask");this.lock.appendTo("body");F=true},unLock:function(){if(this.settings.lock){if(F){this.lock.remove();F=false}}},close:function(){this.dialog.remove();this.unLock()},time:function(){var J=this;this.closeTimer=setTimeout(function(){J.close()},this.settings.time)}};B.defaults={content:"加载中...",title:"load",width:"auto",height:"auto",ok:null,cancel:null,okText:"确定",cancelText:"取消",time:null,lock:true,zIndex:9999};var D=function(J){return new B(J)};E.rDialog=H.rDialog=H.dialog=D})(window.jQuery||window.Zepto,window);